{"version":3,"sources":["extensions/extensionsHeader.js","extensions/import-export/ExportSelected.js"],"names":["ExtensionsHeader","className","sm","data-tour","this","props","title","link","href","target","rel","subTitle","React","Component","Export","state","data","filteredData","dataToExport","value","modal","fileName","fileFormat","selectedRows","selectAll","toggleModal","setState","handleFilter","e","length","filter","col","startsWithCondition","name","toLowerCase","startsWith","email","website","id","toString","includesCondition","includes","handleExport","map","item","push","wb","XLSX","utils","json_to_sheet","wbout","book_new","book_append_sheet","writeFile","handleSelect","splice","indexOf","handleSelectAll","i","renderTableData","key","classnames","selected","size","color","icon","label","checked","onChange","IconTag","Minus","Check","Fragment","Ripple","onClick","type","responsive","isOpen","toggle","placeholder"],"mappings":"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","file":"static/js/54.674386e9.chunk.js","sourcesContent":["import React from \"react\"\nimport { Row, Col } from \"reactstrap\"\n// import { Star } from \"react-feather\"\n\nclass ExtensionsHeader extends React.Component {\n  render() {\n    return (\n      <Row className=\"mb-2\">\n        <Col sm=\"12\" className=\"ml-50\">\n          <p\n            className=\"font-medium-5 mt-1 extension-title\"\n            data-tour=\"extension-title\"\n          >\n            {this.props.title}\n          </p>\n          {this.props.link ? <a href={this.props.link} target=\"_blank\" rel=\"noopener noreferrer\">\n            {this.props.subTitle}\n          </a> : <p className=\"text-primary\">{this.props.subTitle}</p> \n          }\n        </Col>\n      </Row>\n    )\n  }\n}\nexport default ExtensionsHeader\n","import React from \"react\"\nimport ExtensionsHeader from \"../extensionsHeader\"\nimport {\n  Row,\n  Col,\n  Card,\n  CardBody,\n  Button,\n  Table,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Input,\n  FormGroup,\n  CustomInput\n} from \"reactstrap\"\nimport classnames from \"classnames\"\nimport XLSX from \"xlsx\"\nimport { Check, Minus, Search } from \"react-feather\"\nimport Checkbox from \"../../components/@vuexy/checkbox/CheckboxesVuexy\"\n\nimport \"../../assets/scss/pages/import-export.scss\"\nclass Export extends React.Component {\n  state = {\n    data : [\n      {\n        'id': 1,\n        'name': 'Leanne Graham',\n        'username': 'Bret',\n        'email': 'Sincere@april.biz',\n        'website': 'hildegard.org'\n      },\n      {\n        'id': 2,\n        'name': 'Ervin Howell',\n        'username': 'Antonette',\n        'email': 'Shanna@melissa.tv',\n        'website': 'anastasia.net'\n      },\n      {\n        'id': 3,\n        'name': 'Clementine Bauch',\n        'username': 'Samantha',\n        'email': 'Nathan@yesenia.net',\n        'website': 'ramiro.info'\n      },\n      {\n        'id': 4,\n        'name': 'Patricia Lebsack',\n        'username': 'Karianne',\n        'email': 'Julianne.OConner@kory.org',\n        'website': 'kale.biz'\n      },\n      {\n        'id': 5,\n        'name': 'Chelsey Dietrich',\n        'username': 'Kamren',\n        'email': 'Lucio_Hettinger@annie.ca',\n        'website': 'demarco.info'\n      },\n      {\n        'id': 6,\n        'name': 'Mrs. Dennis Schulist',\n        'username': 'Leopoldo_Corkery',\n        'email': 'Karley_Dach@jasper.info',\n        'website': 'ola.org'\n      },\n      {\n        'id': 7,\n        'name': 'Kurtis Weissnat',\n        'username': 'Elwyn.Skiles',\n        'email': 'Telly.Hoeger@billy.biz',\n        'website': 'elvis.io'\n      },\n      {\n        'id': 8,\n        'name': 'Nicholas Runolfsdottir V',\n        'username': 'Maxime_Nienow',\n        'email': 'Sherwood@rosamond.me',\n        'website': 'jacynthe.com'\n      },\n      {\n        'id': 9,\n        'name': 'Glenna Reichert',\n        'username': 'Delphine',\n        'email': 'Chaim_McDermott@dana.io',\n        'website': 'conrad.com'\n      },\n      {\n        'id': 10,\n        'name': 'Clementina DuBuque',\n        'username': 'Moriah.Stanton',\n        'email': 'Rey.Padberg@karina.biz',\n        'website': 'ambrose.net'\n      }\n    ],\n    filteredData : [],\n    dataToExport : [],\n    value : \"\",\n    modal : false,\n    fileName: \"\",\n    fileFormat: \"xlsx\",\n    selectedRows:[],\n    selectAll: false\n  }\n\n  toggleModal = () => {\n    this.setState({ modal : !this.state.modal })\n  }\n\n  handleFilter = e => {\n    let data = this.state.data\n    let filteredData = []\n    let value = e.target.value\n    this.setState({ value })\n    if(value.length){\n      filteredData = data.filter(col => {\n        let startsWithCondition = col.name.toLowerCase().startsWith(value.toLowerCase()) ||\n        col.email.toLowerCase().startsWith(value.toLowerCase()) ||\n        col.website.toLowerCase().startsWith(value.toLowerCase()) ||\n        col.id.toString().toLowerCase().startsWith(value.toLowerCase())\n  \n        let includesCondition = col.name.toLowerCase().includes(value.toLowerCase()) ||\n        col.email.toLowerCase().includes(value.toLowerCase()) ||\n        col.website.toLowerCase().includes(value.toLowerCase()) || \n        col.id.toString().toLowerCase().includes(value.toLowerCase())\n  \n        if(startsWithCondition) return startsWithCondition\n        else if(!startsWithCondition && includesCondition) return includesCondition\n        else return null\n      })\n      this.setState({ value, filteredData })\n    }\n  }\n\n  handleExport = () => {\n    this.toggleModal()\n    let dataToExport = this.state.dataToExport\n    this.state.data.map(item => {\n      if(this.state.selectedRows.includes(item.id)){\n        return dataToExport.push(item)\n      }else{\n        return null\n      }\n    })\n    this.setState({ dataToExport })\n    let fileName =\n      this.state.fileName.length && this.state.fileFormat.length\n        ? `${this.state.fileName}.${this.state.fileFormat}`\n        : \"excel-sheet.xlsx\"\n    let wb = XLSX.utils.json_to_sheet(dataToExport)\n    let wbout = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wbout, wb, 'test')\n    XLSX.writeFile(wbout, fileName);\n  }\n\n  handleSelect = id => {\n    let selectedRows = this.state.selectedRows\n    if(!selectedRows.includes(id)){\n      selectedRows.push(id)\n    }else if(selectedRows.includes(id)){\n      selectedRows.splice(selectedRows.indexOf(id), 1)\n    }else{\n      return null\n    }\n    this.setState({ selectedRows })\n  }\n\n  handleSelectAll = () => {\n    let selectedRows = this.state.selectedRows\n    let data = this.state.data\n    if(selectedRows.length < data.length){\n      let ids = data.map(i => i.id)\n      selectedRows = ids\n    }\n    else if (selectedRows.length === data.length){\n      selectedRows = []\n    }else{\n      return null\n    }\n\n    this.setState({ selectedRows })\n  }\n  \n  render() {\n    let array = this.state.value ? this.state.filteredData : this.state.data\n    let renderTableData = array.map(col => {\n      return <tr key={col.id} className={classnames({\n        selected : this.state.selectedRows.includes(col.id)\n      })}>\n        <td>\n          <Checkbox\n            size=\"sm\"\n            color=\"primary\"\n            icon={<Check className=\"vx-icon\" size={12} />}\n            label=\"\"\n            checked={this.state.selectedRows.includes(col.id)}\n            onChange={() => this.handleSelect(col.id)}\n          />\n        </td>\n        <td>{col.email}</td>\n        <td>{col.name}</td>\n        <td>{col.website}</td>\n        <td>{col.id}</td>\n      </tr>\n    })\n    let IconTag = this.state.selectedRows.length !== this.state.data.length && this.state.selectedRows.length ? Minus : Check\n    return (\n      <React.Fragment>\n        <ExtensionsHeader\n          title=\"XLSX\"\n          subTitle=\"Xlsx is a parser and writer for various spreadsheet formats\"\n          link=\"https://github.com/AdeleD/react-paginate\"\n        />\n        <Row className=\"export-component\">\n          <Col sm=\"12\">\n            <Card>\n              <CardBody>\n                <Row>\n                  <Col sm=\"12\">\n                    <div className=\"d-flex flex-wrap justify-content-between\">\n                      <Button.Ripple color=\"primary\" onClick={this.toggleModal}>\n                        Export Selected\n                      </Button.Ripple>\n                     <div className=\"filter position-relative has-icon-left\">\n                        <Input type=\"text\" value={this.state.value} onChange={e => this.handleFilter(e)} />\n                        <div className=\"form-control-position\">\n                          <Search size={15} />\n                        </div>\n                     </div>\n                    </div>\n                  </Col>\n                  <Col sm=\"12\">\n                    <Table\n                      className=\"table-hover-animation mt-2\"\n                      responsive\n                    >\n                      <thead>\n                        <tr>\n                          <th>\n                            <Checkbox\n                              size=\"sm\"\n                              color=\"primary\"\n                              icon={<IconTag className=\"vx-icon\" size={12} />}\n                              checked={this.state.selectedRows.length}\n                              onChange={e => this.handleSelectAll()}\n                            />\n                          </th>\n                          <th>Email</th>\n                          <th>Name</th>\n                          <th>Website</th>\n                          <th>Rank</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {renderTableData}\n                      </tbody>\n                    </Table>\n                  </Col>\n                </Row>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n        <Modal\n          isOpen={this.state.modal}\n          toggle={this.toggleModal}\n          className=\"modal-dialog-centered\"\n        >\n          <ModalHeader toggle={this.toggleModal}>Export To Excel</ModalHeader>\n          <ModalBody>\n            <FormGroup>\n              <Input \n                type=\"text\" \n                value={this.state.fileName} \n                onChange={e => this.setState({fileName : e.target.value})} \n                placeholder=\"Enter File Name\" \n              />\n            </FormGroup>\n            <FormGroup>\n              <CustomInput \n                type=\"select\" \n                id=\"selectFileFormat\" \n                name=\"customSelect\"\n                value={this.state.fileFormat}\n                onChange={e => this.setState({ fileFormat : e.target.value })}\n              >\n                <option>xlsx</option>\n                <option>csv</option>\n                <option>txt</option>\n              </CustomInput>\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.handleExport}>\n              Export\n            </Button>\n            <Button color=\"flat-danger\" onClick={this.toggleModal}>\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Export\n"],"sourceRoot":""}